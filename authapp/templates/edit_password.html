{% extends 'base.html' %}

{% block title %} SETTINGS {% endblock %}
{% block page_name %} CHANGE PASSWORD {% endblock %}
{% block utils %}{% endblock %}
{% block content %}
    {% block navbar %}{% endblock %}
    <div class="py-6">
    <div class="w-full rounded-4xl border-2 text-lg lg:text-xl border-white">
    <form method="post" class="lg:w-5/6 mx-auto text-sm lg:text-lg my-auto p-4 font-mono">
        {% csrf_token %}
            <div class="py-2 mx-auto flex mb-3 w-full">
                <label class="w-1/3 font-bold ml-3 text-left p-2">Old Password: </label>
                <div class="py-1 flex w-full pr-3">{{ form.old_password }}</div>
            </div>
            <div class="py-2 mx-auto flex mb-3">
                <label class="w-1/3 font-bold ml-3 text-left p-2">New Password: </label>
                <div class="py-1 flex w-full pr-3">{{ form.new_password1 }}</div>
            </div>
            <div class="py-2 mx-auto flex mb-3">
                <label class="w-1/3 font-bold ml-3 text-left p-2">Confirm Password: </label>
                <div class="py-1 flex w-full pr-3">{{ form.new_password2 }}</div>
            </div>    
            
            <diV class="text-center pb-6">
                <a href="{% url 'authapp:recovery_email' %}" class="text-green-700 font-mono text-lg lg:text-xl text-center">
                    forgotten your password?
                </a>
            </diV>

            {% if form.errors or form.non_field_errors %}
            <div class="p-4">
                <div class="bg-red-700 p-1 border-white rounded-2xl text-white">
                    <ul>
                    {% for field in form%}
                        <li>
                            {{ field.errors }}
                        </li>
                    {% endfor %}
                    {{ form.non_field_errors }}
                    </ul>
                </div>
            </div>
            {% endif %}

            <button class="rounded-2xl border border-black text-lg lg:text-xl mx-auto flex p-2 bg-slate-500 hover:bg-slate-800 text-white font-mono" method="post"> UPDATE </button>
        </form>
    </div>
    </div>
{% endblock %}